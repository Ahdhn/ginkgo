<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Ginkgo: Executors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doc.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ginkgo
   &#160;<span id="projectnumber">develop 0.0.0</span>
   </div>
   <div id="projectbrief">Ginkgo is a numerical linear algebra library targeting manycore architectures.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="https://github.com/ginkgo-project/ginkgo/wiki/Tutorial:-Building-a-2D-Poisson-Solver"><span>Examples</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="https://ginkgo-project.github.io/"><span>Ginkgo</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Executors</div>  </div>
</div><!--header-->
<div class="contents">

<p>A module dedicated to the implementation and usage of the executors in Ginkgo.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Executors:</div>
<div class="dyncontent">
<center><table><tr><td><div class="center"><!-- SVG 0 -->
</div>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__exec__cuda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exec__cuda.html">CUDA Executor</a></td></tr>
<tr class="memdesc:group__exec__cuda"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module dedicated to the implementation and usage of the CUDA executor in Ginkgo. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__exec__omp"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exec__omp.html">OpenMP Executor</a></td></tr>
<tr class="memdesc:group__exec__omp"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module dedicated to the implementation and usage of the OpenMP executor in Ginkgo. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__exec__ref"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__exec__ref.html">Reference Executor</a></td></tr>
<tr class="memdesc:group__exec__ref"><td class="mdescLeft">&#160;</td><td class="mdescRight">A module dedicated to the implementation and usage of the Reference executor in Ginkgo. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Operation.html">gko::Operation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operations can be used to define functionalities whose implementations differ among devices.  <a href="classgko_1_1Operation.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html">gko::Executor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The first step in using the Ginkgo library consists of creating an executor.  <a href="classgko_1_1Executor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1executor__deleter.html">gko::executor_deleter&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a deleter that uses an executor's <code>free</code> method to deallocate the data.  <a href="classgko_1_1executor__deleter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1OmpExecutor.html">gko::OmpExecutor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a> subclass which represents the OpenMP device (typically CPU).  <a href="classgko_1_1OmpExecutor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1ReferenceExecutor.html">gko::ReferenceExecutor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a specialization of the <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a>, which runs the reference implementations of the kernels used for debugging purposes.  <a href="classgko_1_1ReferenceExecutor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1CudaExecutor.html">gko::CudaExecutor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a> subclass which represents the CUDA device.  <a href="classgko_1_1CudaExecutor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Executor.html#ga7f2c119ff9f4f51c7f8e2d5dbbbbd044">GKO_REGISTER_OPERATION</a>(_name,  _kernel)</td></tr>
<tr class="memdesc:ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binds a set of device-specific kernels to an Operation.  <a href="#ga7f2c119ff9f4f51c7f8e2d5dbbbbd044">More...</a><br /></td></tr>
<tr class="separator:ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A module dedicated to the implementation and usage of the executors in Ginkgo. </p>
<p>Below, we provide a brief introduction to executors in Ginkgo, how they have been implemented, how to best make use of them and how to add new executors.</p>
<h1><a class="anchor" id="exec_1"></a>
Executors in Ginkgo.</h1>
<p>The first step in using the Ginkgo library consists of creating an executor. Executors are used to specify the location for the data of linear algebra objects, and to determine where the operations will be executed. Ginkgo currently supports three different executor types:</p>
<ul>
<li><a class="el" href="group__exec__omp.html">OpenMP Executor</a> specifies that the data should be stored and the associated operations executed on an OpenMP-supporting device (e.g. host CPU);</li>
<li><a class="el" href="group__exec__cuda.html">CUDA Executor</a> specifies that the data should be stored and the operations executed on the NVIDIA GPU accelerator;</li>
<li><a class="el" href="group__exec__ref.html">Reference Executor</a> executes a non-optimized reference implementation, which can be used to debug the library. </li>
</ul>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga7f2c119ff9f4f51c7f8e2d5dbbbbd044"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GKO_REGISTER_OPERATION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_kernel&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Binds a set of device-specific kernels to an Operation. </p>
<p>It also defines a helper function which creates the associated operation. Any input arguments passed to the helper function are forwarded to the kernel when the operation is executed.</p>
<p>The kernels used to bind the operation are searched in <code>kernels::DEV_TYPE</code> namespace, where <code>DEV_TYPE</code> is replaced by <code>omp</code>, <code>cuda</code> and <code>reference</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_name</td><td>operation name </td></tr>
    <tr><td class="paramname">_kernel</td><td>kernel which will be bound to the operation</td></tr>
  </table>
  </dd>
</dl>
<h2>Example </h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// define the omp, cuda and reference kernels which will be bound to the</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// operation</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;namespace kernels {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;namespace omp {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void my_kernel(int x) {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;     // omp code</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;}</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;}</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;namespace cuda {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;void my_kernel(int x) {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;     // cuda code</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;namespace reference {</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;void my_kernel(int x) {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    // reference code</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;// Bind the kernels to the operation</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;GKO_REGISTER_OPERATION(my_op, my_kernel);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;int main() {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    // create executors</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    auto omp = OmpExecutor::create();</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    auto cuda = CudaExecutor::create(omp, 0);</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    auto ref = ReferenceExecutor::create();</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    // create the operation</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    auto op = make_my_op(5); // x = 5</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    omp-&gt;run(op);  // run omp kernel</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    cuda-&gt;run(op);  // run cuda kernel</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    ref-&gt;run(op);  // run reference kernel</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
