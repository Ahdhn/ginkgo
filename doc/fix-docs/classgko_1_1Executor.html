<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Ginkgo: gko::Executor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doc.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ginkgo
   &#160;<span id="projectnumber">Generated from remotes/origin/fix-docs branch based on develop. Ginkgo version 0.0.0</span>
   </div>
   <div id="projectbrief">A numerical linear algebra library targeting many-core architectures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="https://github.com/ginkgo-project/ginkgo/wiki/Tutorial:-Building-a-2D-Poisson-Solver"><span>Tutorial</span></a></li>
      <li><a href="Examples.html"><span>Examples</span></a></li>
      <li><a href="benchmarking.html"><span>Benchmarking</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="https://ginkgo-project.github.io/"><span>Ginkgo</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegko.html">gko</a></li><li class="navelem"><a class="el" href="classgko_1_1Executor.html">Executor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classgko_1_1Executor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gko::Executor Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__Executor.html">Executors</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The first step in using the Ginkgo library consists of creating an executor.  
 <a href="classgko_1_1Executor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="executor_8hpp_source.html">ginkgo/core/base/executor.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for gko::Executor:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classgko_1_1Executor__coll__graph.svg" width="354" height="323"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d564aa4d197e1cd8a563b611d3ea8dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d564aa4d197e1cd8a563b611d3ea8dc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Executor</b> (<a class="el" href="classgko_1_1Executor.html">Executor</a> &amp;)=delete</td></tr>
<tr class="separator:a4d564aa4d197e1cd8a563b611d3ea8dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00faff4350dd1227d6239e7820e1005c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00faff4350dd1227d6239e7820e1005c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Executor</b> (<a class="el" href="classgko_1_1Executor.html">Executor</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a00faff4350dd1227d6239e7820e1005c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4560be68217900e62c7ee257daff3d5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4560be68217900e62c7ee257daff3d5d"></a>
<a class="el" href="classgko_1_1Executor.html">Executor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classgko_1_1Executor.html">Executor</a> &amp;)=delete</td></tr>
<tr class="separator:a4560be68217900e62c7ee257daff3d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b9c265cee1598df90f2189feb8dc53"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76b9c265cee1598df90f2189feb8dc53"></a>
<a class="el" href="classgko_1_1Executor.html">Executor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classgko_1_1Executor.html">Executor</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a76b9c265cee1598df90f2189feb8dc53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de8e2668b76e66690acf5eef9e8324d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html#a1de8e2668b76e66690acf5eef9e8324d">run</a> (const <a class="el" href="classgko_1_1Operation.html">Operation</a> &amp;op) const =0</td></tr>
<tr class="memdesc:a1de8e2668b76e66690acf5eef9e8324d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the specified <a class="el" href="classgko_1_1Operation.html" title="Operations can be used to define functionalities whose implementations differ among devices...">Operation</a> using this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>.  <a href="#a1de8e2668b76e66690acf5eef9e8324d">More...</a><br /></td></tr>
<tr class="separator:a1de8e2668b76e66690acf5eef9e8324d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc115ed1a71e2d17aaface28f036468b"><td class="memTemplParams" colspan="2">template&lt;typename ClosureOmp , typename ClosureCuda &gt; </td></tr>
<tr class="memitem:acc115ed1a71e2d17aaface28f036468b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html#acc115ed1a71e2d17aaface28f036468b">run</a> (const ClosureOmp &amp;op_omp, const ClosureCuda &amp;op_cuda) const </td></tr>
<tr class="memdesc:acc115ed1a71e2d17aaface28f036468b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs one of the passed in functors, depending on the <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a> type.  <a href="#acc115ed1a71e2d17aaface28f036468b">More...</a><br /></td></tr>
<tr class="separator:acc115ed1a71e2d17aaface28f036468b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea1773a0957ad79042e4ac60dd22d60a"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aea1773a0957ad79042e4ac60dd22d60a"><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html#aea1773a0957ad79042e4ac60dd22d60a">alloc</a> (<a class="el" href="namespacegko.html#a6e5c95df0ae4e47aab2f604a22d98ee7">size_type</a> num_elems) const </td></tr>
<tr class="memdesc:aea1773a0957ad79042e4ac60dd22d60a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates memory in this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>.  <a href="#aea1773a0957ad79042e4ac60dd22d60a">More...</a><br /></td></tr>
<tr class="separator:aea1773a0957ad79042e4ac60dd22d60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0befe43d21c93e199d1620eaae4ccc0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html#a0befe43d21c93e199d1620eaae4ccc0c">free</a> (void *ptr) const noexcept</td></tr>
<tr class="memdesc:a0befe43d21c93e199d1620eaae4ccc0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees memory previously allocated with <a class="el" href="classgko_1_1Executor.html#aea1773a0957ad79042e4ac60dd22d60a" title="Allocates memory in this Executor. ">Executor::alloc()</a>.  <a href="#a0befe43d21c93e199d1620eaae4ccc0c">More...</a><br /></td></tr>
<tr class="separator:a0befe43d21c93e199d1620eaae4ccc0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460bbb12aba13c3cea909eb8e06c3ce1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a460bbb12aba13c3cea909eb8e06c3ce1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html#a460bbb12aba13c3cea909eb8e06c3ce1">copy_from</a> (const <a class="el" href="classgko_1_1Executor.html">Executor</a> *src_exec, <a class="el" href="namespacegko.html#a6e5c95df0ae4e47aab2f604a22d98ee7">size_type</a> num_elems, const T *src_ptr, T *dest_ptr) const </td></tr>
<tr class="memdesc:a460bbb12aba13c3cea909eb8e06c3ce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies data from another <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>.  <a href="#a460bbb12aba13c3cea909eb8e06c3ce1">More...</a><br /></td></tr>
<tr class="separator:a460bbb12aba13c3cea909eb8e06c3ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaec4f999d52fc71e5e5a3d3ad93609c"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classgko_1_1Executor.html">Executor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html#acaec4f999d52fc71e5e5a3d3ad93609c">get_master</a> () noexcept=0</td></tr>
<tr class="memdesc:acaec4f999d52fc71e5e5a3d3ad93609c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the master <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> of this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>.  <a href="#acaec4f999d52fc71e5e5a3d3ad93609c">More...</a><br /></td></tr>
<tr class="separator:acaec4f999d52fc71e5e5a3d3ad93609c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261386e439c8daa6e0d95dc331b9bfeb"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; const <a class="el" href="classgko_1_1Executor.html">Executor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html#a261386e439c8daa6e0d95dc331b9bfeb">get_master</a> () const noexcept=0</td></tr>
<tr class="memdesc:a261386e439c8daa6e0d95dc331b9bfeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the master <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> of this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>.  <a href="#a261386e439c8daa6e0d95dc331b9bfeb">More...</a><br /></td></tr>
<tr class="separator:a261386e439c8daa6e0d95dc331b9bfeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24eeee7648c0f0fd07c9866d07154875"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24eeee7648c0f0fd07c9866d07154875"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgko_1_1Executor.html#a24eeee7648c0f0fd07c9866d07154875">synchronize</a> () const =0</td></tr>
<tr class="memdesc:a24eeee7648c0f0fd07c9866d07154875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronize the operations launched on the executor with its master. <br /></td></tr>
<tr class="separator:a24eeee7648c0f0fd07c9866d07154875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgko_1_1log_1_1EnableLogging"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgko_1_1log_1_1EnableLogging')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgko_1_1log_1_1EnableLogging.html">gko::log::EnableLogging&lt; Executor &gt;</a></td></tr>
<tr class="memitem:a7b3493c14a37b4d46487d9c636d784f2 inherit pub_methods_classgko_1_1log_1_1EnableLogging"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><b>add_logger</b> (std::shared_ptr&lt; const <a class="el" href="classgko_1_1log_1_1Logger.html">Logger</a> &gt; logger) override</td></tr>
<tr class="memdesc:a7b3493c14a37b4d46487d9c636d784f2 inherit pub_methods_classgko_1_1log_1_1EnableLogging"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new logger to the list of subscribed loggers.  <a href="#a7b3493c14a37b4d46487d9c636d784f2">More...</a><br /></td></tr>
<tr class="separator:a7b3493c14a37b4d46487d9c636d784f2 inherit pub_methods_classgko_1_1log_1_1EnableLogging"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5317f8a03956a61d770e9b07fc65cc inherit pub_methods_classgko_1_1log_1_1EnableLogging"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><b>remove_logger</b> (const <a class="el" href="classgko_1_1log_1_1Logger.html">Logger</a> *logger) override</td></tr>
<tr class="memdesc:aba5317f8a03956a61d770e9b07fc65cc inherit pub_methods_classgko_1_1log_1_1EnableLogging"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a logger from the list of subscribed loggers.  <a href="#aba5317f8a03956a61d770e9b07fc65cc">More...</a><br /></td></tr>
<tr class="separator:aba5317f8a03956a61d770e9b07fc65cc inherit pub_methods_classgko_1_1log_1_1EnableLogging"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aaeab680299cad69bf82df40b91b7dcd4"><td class="memTemplParams" colspan="2"><a class="anchor" id="aaeab680299cad69bf82df40b91b7dcd4"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:aaeab680299cad69bf82df40b91b7dcd4"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><b>detail::ExecutorBase</b></td></tr>
<tr class="separator:aaeab680299cad69bf82df40b91b7dcd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The first step in using the Ginkgo library consists of creating an executor. </p>
<p>Executors are used to specify the location for the data of linear algebra objects, and to determine where the operations will be executed. Ginkgo currently supports three different executor types:</p>
<ul>
<li><a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> specifies that the data should be stored and the associated operations executed on an OpenMP-supporting device (e.g. host CPU);</li>
<li><a class="el" href="classgko_1_1CudaExecutor.html" title="This is the Executor subclass which represents the CUDA device. ">CudaExecutor</a> specifies that the data should be stored and the operations executed on the NVIDIA GPU accelerator;</li>
<li><a class="el" href="classgko_1_1ReferenceExecutor.html" title="This is a specialization of the OmpExecutor, which runs the reference implementations of the kernels ...">ReferenceExecutor</a> executes a non-optimized reference implementation, which can be used to debug the library.</li>
</ul>
<p>The following code snippet demonstrates the simplest possible use of the Ginkgo library:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> omp = gko::create&lt;gko::OmpExecutor&gt;();</div><div class="line"><span class="keyword">auto</span> A = gko::read_from_mtx&lt;gko::matrix::Csr&lt;float&gt;&gt;(<span class="stringliteral">&quot;A.mtx&quot;</span>, omp);</div></div><!-- fragment --><p>First, we create a OMP executor, which will be used in the next line to specify where we want the data for the matrix A to be stored. The second line will read a matrix from the matrix market file 'A.mtx', and store the data on the CPU in CSR format (<a class="el" href="classgko_1_1matrix_1_1Csr.html" title="CSR is a matrix format which stores only the nonzero coefficients by compressing each row of the matr...">gko::matrix::Csr</a> is a Ginkgo matrix class which stores its data in CSR format). At this point, matrix A is bound to the CPU, and any routines called on it will be performed on the CPU. This approach is usually desired in sparse linear algebra, as the cost of individual operations is several orders of magnitude lower than the cost of copying the matrix to the GPU.</p>
<p>If matrix A is going to be reused multiple times, it could be beneficial to copy it over to the accelerator, and perform the operations there, as demonstrated by the next code snippet:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> cuda = gko::create&lt;gko::CudaExecutor&gt;(0, omp);</div><div class="line"><span class="keyword">auto</span> dA = gko::copy_to&lt;gko::matrix::Csr&lt;float&gt;&gt;(A.get(), cuda);</div></div><!-- fragment --><p>The first line of the snippet creates a new CUDA executor. Since there may be multiple NVIDIA GPUs present on the system, the first parameter instructs the library to use the first device (i.e. the one with device ID zero, as in cudaSetDevice() routine from the CUDA runtime API). In addition, since GPUs are not stand-alone processors, it is required to pass a "master" <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> which will be used to schedule the requested CUDA kernels on the accelerator.</p>
<p>The second command creates a copy of the matrix A on the GPU. Notice the use of the get() method. As Ginkgo aims to provide automatic memory management of its objects, the result of calling gko::read_from_mtx() is a smart pointer (std::unique_ptr) to the created object. On the other hand, as the library will not hold a reference to A once the copy is completed, the input parameter for gko::copy_to() is a plain pointer. Thus, the get() method is used to convert from a std::unique_ptr to a plain pointer, as expected by gko::copy_to().</p>
<p>As a side note, the gko::copy_to routine is far more powerful than just copying data between different devices. It can also be used to convert data between different formats. For example, if the above code used <a class="el" href="classgko_1_1matrix_1_1Ell.html" title="ELL is a matrix format where stride with explicit zeros is used such that all rows have the same numb...">gko::matrix::Ell</a> as the template parameter, dA would be stored on the GPU, in ELLPACK format.</p>
<p>Finally, if all the processing of the matrix is supposed to be done on the GPU, and a CPU copy of the matrix is not required, we could have read the matrix to the GPU directly:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> omp = gko::create&lt;gko::OmpExecutor&gt;();</div><div class="line"><span class="keyword">auto</span> cuda = gko::create&lt;gko::CudaExecutor&gt;(0, omp);</div><div class="line"><span class="keyword">auto</span> dA = gko::read_from_mtx&lt;gko::matrix::Csr&lt;float&gt;&gt;(<span class="stringliteral">&quot;A.mtx&quot;</span>, cuda);</div></div><!-- fragment --><p> Notice that even though reading the matrix directly from a file to the accelerator is not supported, the library is designed to abstract away the intermediate step of reading the matrix to the CPU memory. This is a general design approach taken by the library: in case an operation is not supported by the device, the data will be copied to the CPU, the operation performed there, and finally the results copied back to the device. This approach makes using the library more concise, as explicit copies are not required by the user. Nevertheless, this feature should be taken into account when considering performance implications of using such operations. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aea1773a0957ad79042e4ac60dd22d60a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* gko::Executor::alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacegko.html#a6e5c95df0ae4e47aab2f604a22d98ee7">size_type</a>&#160;</td>
          <td class="paramname"><em>num_elems</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates memory in this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>datatype to allocate</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_elems</td><td>number of elements of type T to allocate</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classgko_1_1AllocationError.html" title="AllocationError is thrown if a memory allocation fails. ">AllocationError</a></td><td>if the allocation failed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to allocated memory </dd></dl>

</div>
</div>
<a class="anchor" id="a460bbb12aba13c3cea909eb8e06c3ce1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void gko::Executor::copy_from </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgko_1_1Executor.html">Executor</a> *&#160;</td>
          <td class="paramname"><em>src_exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacegko.html#a6e5c95df0ae4e47aab2f604a22d98ee7">size_type</a>&#160;</td>
          <td class="paramname"><em>num_elems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>src_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>dest_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies data from another <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>datatype to copy</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_exec</td><td><a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a> from which the memory will be copied </td></tr>
    <tr><td class="paramname">num_elems</td><td>number of elements of type T to copy </td></tr>
    <tr><td class="paramname">src_ptr</td><td>pointer to a block of memory containing the data to be copied </td></tr>
    <tr><td class="paramname">dest_ptr</td><td>pointer to an allocated block of memory where the data will be copied to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0befe43d21c93e199d1620eaae4ccc0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void gko::Executor::free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees memory previously allocated with <a class="el" href="classgko_1_1Executor.html#aea1773a0957ad79042e4ac60dd22d60a" title="Allocates memory in this Executor. ">Executor::alloc()</a>. </p>
<p>If <code>ptr</code> is a <code>nullptr</code>, the function has no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>pointer to the allocated memory block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acaec4f999d52fc71e5e5a3d3ad93609c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::shared_ptr&lt;<a class="el" href="classgko_1_1Executor.html">Executor</a>&gt; gko::Executor::get_master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the master <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> of this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>the master <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> of this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>. </dd></dl>

<p>Implemented in <a class="el" href="classgko_1_1CudaExecutor.html#af5ba5524e32664b1a36292bb16816101">gko::CudaExecutor</a>, and <a class="el" href="classgko_1_1OmpExecutor.html#a22465dcbc1f6f70848c601063b5f57dc">gko::OmpExecutor</a>.</p>

</div>
</div>
<a class="anchor" id="a261386e439c8daa6e0d95dc331b9bfeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::shared_ptr&lt;const <a class="el" href="classgko_1_1Executor.html">Executor</a>&gt; gko::Executor::get_master </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the master <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> of this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>the master <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> of this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>. </dd></dl>

<p>Implemented in <a class="el" href="classgko_1_1CudaExecutor.html#a861b91eff60769b578498a66a500824a">gko::CudaExecutor</a>, and <a class="el" href="classgko_1_1OmpExecutor.html#a1fc0da3b6d4ed182ceb776d6f7b54c60">gko::OmpExecutor</a>.</p>

</div>
</div>
<a class="anchor" id="a1de8e2668b76e66690acf5eef9e8324d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gko::Executor::run </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgko_1_1Operation.html">Operation</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the specified <a class="el" href="classgko_1_1Operation.html" title="Operations can be used to define functionalities whose implementations differ among devices...">Operation</a> using this <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>the operation to run </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classgko_1_1CudaExecutor.html#a32a73a74403376d774933abf9663d59e">gko::CudaExecutor</a>, and <a class="el" href="classgko_1_1ReferenceExecutor.html#a82b41b42dbd26e8ac5b0146de79e5d34">gko::ReferenceExecutor</a>.</p>

</div>
</div>
<a class="anchor" id="acc115ed1a71e2d17aaface28f036468b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ClosureOmp , typename ClosureCuda &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void gko::Executor::run </td>
          <td>(</td>
          <td class="paramtype">const ClosureOmp &amp;&#160;</td>
          <td class="paramname"><em>op_omp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ClosureCuda &amp;&#160;</td>
          <td class="paramname"><em>op_cuda</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs one of the passed in functors, depending on the <a class="el" href="classgko_1_1Executor.html" title="The first step in using the Ginkgo library consists of creating an executor. ">Executor</a> type. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ClosureOmp</td><td>type of op_omp </td></tr>
    <tr><td class="paramname">ClosureCuda</td><td>type of op_cuda</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op_omp</td><td>functor to run in case of a <a class="el" href="classgko_1_1OmpExecutor.html" title="This is the Executor subclass which represents the OpenMP device (typically CPU). ...">OmpExecutor</a> or <a class="el" href="classgko_1_1ReferenceExecutor.html" title="This is a specialization of the OmpExecutor, which runs the reference implementations of the kernels ...">ReferenceExecutor</a> </td></tr>
    <tr><td class="paramname">op_cuda</td><td>functor to run in case of a <a class="el" href="classgko_1_1CudaExecutor.html" title="This is the Executor subclass which represents the CUDA device. ">CudaExecutor</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ginkgo/core/base/<a class="el" href="executor_8hpp_source.html">executor.hpp (8b97f46)</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
