<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<figure>
<img src="/assets/logo.png" alt="Ginkgo" /><figcaption>Ginkgo</figcaption>
</figure>
<p>Ginkgo is a numerical linear algebra library targeting manycore architectures.</p>
<h2 id="prerequisites">Prerequisites</h2>
<h3 id="linux">Linux</h3>
<p>For Ginkgo core library:</p>
<ul>
<li><em>cmake 3.1+</em></li>
<li>C++11 compliant compiler, one of:
<ul>
<li><em>gcc 5.4.0+</em></li>
<li><em>clang 3.3+</em> (<strong>TODO</strong>: verify, works with 5.0)</li>
</ul></li>
</ul>
<p>The Ginkgo CUDA module has the following <strong>additional</strong> requirements:</p>
<ul>
<li><em>cmake 3.10+</em></li>
<li><em>CUDA 7.0+</em> (<strong>TODO</strong>: verify, works with 8.0)</li>
<li>Any host compiler restrictions your version of CUDA may impose also apply here. For the newest CUDA version, this information can be found in the <a href="http://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#system-requirements">CUDA installation guide</a></li>
</ul>
<p>In addition, if you want to contribute code to Ginkgo, you will also need the following:</p>
<ul>
<li><em>clang-format 5.0.1+</em> (ships as part of <em>clang</em>)</li>
<li><strong>NOTE:</strong> If you want to use <em>clang</em> as your compiler and develop Ginkgo, you’ll currently need two versions <em>clang</em>: <em>clang 4.0.0</em> or older, as this is this version supporetd by the CUDA 9.1 toolkit, and <em>clang 5.0.1</em> or newer, which will not be used for compilation, but only provide the <em>clang-format</em> utility</li>
</ul>
<h3 id="mac-os">Mac OS</h3>
<p>For Ginkgo core library:</p>
<ul>
<li><em>cmake 3.1+</em></li>
<li>C++11 compliant compiler, one of:
<ul>
<li><em>gcc 5.4.0+</em> (<strong>TODO</strong>: verify)</li>
<li><em>clang 3.3+</em> (<strong>TODO</strong>: verify)</li>
<li><em>Apple LLVM 8.0+</em> (<strong>TODO</strong>: verify)</li>
</ul></li>
</ul>
<p>The Ginkgo CUDA module has the following <strong>additional</strong> requirements:</p>
<ul>
<li><em>cmake 3.8+</em></li>
<li><em>CUDA 7.0+</em> (<strong>TODO</strong>: verify)</li>
<li><p>Any host compiler restrictions your version of CUDA may impose also apply here. For the newest CUDA version, this information can be found in the <a href="http://docs.nvidia.com/cuda/cuda-installation-guide-mac-os-x/index.html">CUDA installation guide</a> In addition, if you want to contribute code to Ginkgo, you will also need the following:</p></li>
<li><em>clang-format 5.0.1+</em> (ships as part of <em>clang</em>)</li>
<li><p><strong>NOTE:</strong> If you want to use <em>clang</em> as your compiler and develop Ginkgo, you’ll currently need two versions <em>clang</em>: <em>clang 4.0.0</em> or older, as this is this version supporetd by the CUDA 9.1 toolkit, and <em>clang 5.0.1</em> or newer, which will not be used for compilation, but only provide the <em>clang-format</em> utility</p></li>
</ul>
<h3 id="windows">Windows</h3>
<p>Windows is currently not supported, but we are working on porting the library there. If you are interested in helping us with this effort, feel free to contact one of the developers. (The library itself doesn’t use any non-standard C++ features, so most of the effort here is in modifying the build system.)</p>
<p><strong>TODO:</strong> Some restrictions will also apply on the version of C and C++ standard libraries installed on the system. We need to investigate this further.</p>
<h2 id="installation">Installation</h2>
<p>Use the standard cmake build procedure:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="fu">mkdir</span> build<span class="kw">;</span> <span class="bu">cd</span> build</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="fu">cmake</span> -G <span class="st">&quot;Unix Makefiles&quot;</span> [OPTIONS] .. <span class="kw">&amp;&amp;</span> <span class="fu">make</span></a></code></pre></div>
<p>Replace <code>[OPTIONS]</code> with desired cmake options for your build. Ginkgo adds the following additional switches to control what is being built:</p>
<ul>
<li><code>-DDEVEL_TOOLS={ON, OFF}</code> sets up the build system for development (requires clang-format, will also download git-cmake-format), default is <code>ON</code></li>
<li><code>-DBUILD_TESTS={ON, OFF}</code> builds Ginkgo’s tests (will download googletest), default is <code>ON</code></li>
<li><code>-DBUILD_EXAMPLES={ON, OFF}</code> builds Ginkgo’s examples, default is <code>ON</code></li>
<li><code>-DBUILD_REFERENCE={ON, OFF}</code> build reference implementations of the kernels, usefull for testing, default os <code>OFF</code></li>
<li><code>-DBUILD_OMP={ON, OFF}</code> builds optimized OpenMP versions of the kernels, default is <code>OFF</code></li>
<li><code>-DBUILD_CUDA={ON, OFF}</code> builds optimized cuda versions of the kernels (requires CUDA), default is <code>OFF</code></li>
<li><code>-DSET_CUDA_HOST_COMPILER={ON, OFF}</code> instructs the build system to explicitly set CUDA’s host compiler to match the commpiler used to build the the rest of the library (otherwise the nvcc toolchain uses its default host compiler). Setting this option may help if you’re experiencing linking errors due to ABI incompatibilities. The default is <code>OFF</code>.</li>
<li><code>-DCMAKE_INSTALL_PREFIX=path</code> sets the installation path for <code>make install</code>. The default value is usually something like <code>/usr/local</code></li>
<li><p><code>-DCUDA_ARCHITECTURES=&lt;list&gt;</code> where <code>&lt;list&gt;</code> is a semicolon (<code>;</code>) separated list of architectures. Supported values are:</p>
<ul>
<li><code>Auto</code></li>
<li><code>Kepler</code>, <code>Maxwell</code>, <code>Pascal</code>, <code>Volta</code></li>
<li><code>COMPUTE</code>, <code>COMPUTE(CODE)</code>, <code>(CODE)</code>, <code>MaxPTX</code></li>
<li><code>Off</code></li>
</ul>
<p><code>Auto</code> will automatically detect the present CUDA-enabled GPU architectures in the system. <code>Kepler</code>, <code>Maxwell</code>, <code>Pascal</code> and <code>Volta</code> will add flags for all architectures of that particular NVIDIA GPU generation. <code>COMPUTE</code> and <code>CODE</code> are placeholders that should be replaced with compute and code numbers ( e.g. for <code>compute_70</code> and <code>code_70</code> <code>COMPUTE</code> and <code>CODE</code> should be replaced with <code>70</code>. <code>MaxPTX</code> will select the latest architecture supported by the compiler. <code>Off</code> will not select any architectures and compile with NVCC’s default settings. Default is <code>Auto</code>.</p></li>
</ul>
<p>For example, to build everything (in debug mode), use:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cmake"><code class="sourceCode cmake"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="fu">mkdir build; cd build</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="fu">cmake -G &quot;Unix Makefiles&quot; -DCMAKE_BUILD_TYPE=Debug -DDEVEL_TOOLS=ON \</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="fu">      -DBUILD_TESTS=ON -DBUILD_REFERENCE=ON -DBUILD_OMP=ON -DBUILD_CUDA=ON  ..</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="fu">make</span></a></code></pre></div>
<p><strong>NOTE:</strong> Currently, the only verified CMake generator is <code>Unix Makefiles</code>. Other generators may work, but are not officially supported.</p>
<h3 id="running-the-unit-tests">Running the unit tests</h3>
<p>You need to compile ginkgo with <code>-DBUILD_TESTS=ON</code> option to be able to run the tests. Use the following command inside the build folder to run all tests:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="fu">make</span> test</a></code></pre></div>
<p>The output should contain several lines of the form:</p>
<pre><code>     Start  1: path/to/test
 1/13 Test  #1: path/to/test .............................   Passed    0.01 sec</code></pre>
<p>To run only a specific test and see more details results (e.g. if a test failed) run the following from the build folder:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="ex">./path/to/test</span></a></code></pre></div>
<p>where <code>path/to/test</code> is the path returned by <code>make test</code>.</p>
<h3 id="installing-ginkgo">Installing Ginkgo</h3>
<p>To install Ginkgo into the specified folder, execute the following command in the build folder</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="fu">make</span> install</a></code></pre></div>
<p>If the installation prefix (see <code>CMAKE_INSTALL_PREFIX</code>) is not writable for your user, e.g. when installing Ginkgo system-wide, it might be necessary to prefix the call with <code>sudo</code>.</p>
</body>
</html>
